childnumber = 0

g.V

// Filter out invalid nodes (type = NULL).
.filter{ it.type != "NULL" }

// First line of code: AST_ASSIGN, rval == "AST_DIM"
.filter{ isAssignment(it) && it.rval().type.next() == "AST_DIM" }

// Remeber its linenumber.
.sideEffect{ start_linenumber = it.lineno }

// Remember its position as a child.
.sideEffect{ childnumber = it.childnum }

// Remember the assigned variable name (left side).
.sideEffect{ var1 = it.lval().varToName() }

// Second line of code: AST_ASSIGN, rval == "AST_ENCAPS_LIST"
// Find it by going back one step and check the next child.
.parents()
.children().filter{ it.childnum == childnumber + 1}
.filter{ isAssignment(it) && it.rval().type.next() == "AST_ENCAPS_LIST" }
.rval()